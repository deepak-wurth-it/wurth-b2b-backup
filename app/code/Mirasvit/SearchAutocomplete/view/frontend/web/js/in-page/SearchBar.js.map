{"version":3,"sources":["../../ts/src/in-page/SearchBar.ts"],"names":["SearchBar","props","visible","subscribe","setTimeout","focus","document","on","e","key","query"],"mappings":";;MAOaA,S,GAGT,mBAAYC,KAAZ,EAA0B;AAAA;;AACtB,SAAKA,KAAL,GAAaA,KAAb;AAEAA,IAAAA,KAAK,CAACC,OAAN,CAAcC,SAAd,CAAwB,UAAAD,OAAO,EAAI;AAC/BA,MAAAA,OAAO,IAAIE,UAAU,CAAC;AAAA,eAAM,aAAE,eAAF,EAAmB,CAAnB,EAAsBC,KAAtB,EAAN;AAAA,OAAD,EAAsC,EAAtC,CAArB;AACH,KAFD;AAIA,iBAAEC,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,UAAAC,CAAC,EAAI;AACzB,UAAIA,CAAC,CAACC,GAAF,KAAU,QAAd,EAAwB;AACpB,YAAIR,KAAK,CAACS,KAAN,EAAJ,EAAmB;AACfT,UAAAA,KAAK,CAACS,KAAN,CAAY,EAAZ;AACH;AACJ;AACJ,KAND;AAOH,G","sourcesContent":["import $ from \"jquery\"\n\ninterface Props {\n    query: KnockoutObservable<string>\n    visible: KnockoutObservable<boolean>\n}\n\nexport class SearchBar {\n    props: Props\n\n    constructor(props: Props) {\n        this.props = props\n\n        props.visible.subscribe(visible => {\n            visible && setTimeout(() => $(\"[type=search]\")[0].focus(), 10)\n        })\n\n        $(document).on(\"keyup\", e => {\n            if (e.key === \"Escape\") {\n                if (props.query()) {\n                    props.query(\"\")\n                }\n            }\n        })\n    }\n}\n"],"file":"SearchBar.js"}